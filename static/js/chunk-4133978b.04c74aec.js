(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4133978b"],{7524:function(e,t,a){"use strict";a("ffd3")},d1ad:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-card"},[a("header",{staticClass:"add-header"},[a("el-page-header",{attrs:{content:e.showTile},on:{back:function(t){return e.$router.back()}}})],1),a("main",{staticClass:"add-main"},[a("div",{staticClass:"form-container"},[a("div",{staticClass:"title"},[e._v("分店信息")]),a("div",{staticClass:"form"},[a("el-form",{ref:"addForm",attrs:{"label-width":"100px",model:e.addForm,rules:"see"===e.$route.query.type?{}:e.addFormRules}},[a("el-form-item",{attrs:{label:"分店名称",prop:"name"}},[a("el-input",{attrs:{disabled:"see"===e.$route.query.type},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"分店地址",prop:"address"}},[a("el-input",{attrs:{disabled:"see"===e.$route.query.type},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),a("el-form-item",{attrs:{label:"联系人",prop:"contacts"}},[a("el-input",{attrs:{disabled:"see"===e.$route.query.type},model:{value:e.addForm.contacts,callback:function(t){e.$set(e.addForm,"contacts",t)},expression:"addForm.contacts"}})],1),a("el-form-item",{attrs:{label:"联系方式",prop:"photo"}},[a("el-input",{attrs:{disabled:"see"===e.$route.query.type},model:{value:e.addForm.photo,callback:function(t){e.$set(e.addForm,"photo",t)},expression:"addForm.photo"}})],1),a("el-form-item",{attrs:{label:"营业时间",prop:"timeDate"}},[a("el-time-picker",{attrs:{disabled:"see"===e.$route.query.type,"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围","value-format":"HH:mm:ss"},model:{value:e.addForm.timeDate,callback:function(t){e.$set(e.addForm,"timeDate",t)},expression:"addForm.timeDate"}})],1),a("el-form-item",{attrs:{label:"分店状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:"see"===e.$route.query.type},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)])]),"see"!==e.$route.query.type?a("footer",{staticClass:"add-footer"},[a("div",{staticClass:"btn-container"},[a("el-button",{on:{click:e.resetForm}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确定")])],1)]):e._e()])},s=[],o=a("5530"),d=a("c7eb"),n=a("1da1"),u=a("e692"),i={data:function(){return{addFormRules:{name:[{required:!0,message:"分店名称不能为空",trigger:"blur"}],address:[{required:!0,message:"分店地址不能为空",trigger:"blur"}],contacts:[{required:!0,message:"联系人不能为空",trigger:"blur"}],photo:[{required:!0,message:"联系方式不能为空",trigger:"blur"}],timeDate:[{type:"array",required:!0,message:"请选择营业时间",trigger:"change"}],status:[{required:!0,message:"请选择分店状态",trigger:"change"}]},options:[{value:0,label:"未营业"},{value:1,label:"营业"},{value:2,label:"休息"},{value:3,label:"倒闭"}],addForm:{name:"",address:"",contacts:"",photo:"",timeDate:"",status:null}}},computed:{showTile:function(){var e={see:"查看分店",edit:"编辑分店"};return e[this.$route.query.type]||"新增分店"}},created:function(){this.$route.query.id&&this.getShopTable()},methods:{getShopTable:function(){var e=this;return Object(n["a"])(Object(d["a"])().mark((function t(){var a;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["d"])(e.$route.query.id);case 2:a=t.sent,e.addForm=a.data,e.addForm.timeDate=[e.addForm.timeDate.split("-")[0],e.addForm.timeDate.split("-")[1]],e.addForm.status=1*a.data.status;case 6:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;this.$refs.addForm.validate(function(){var t=Object(n["a"])(Object(d["a"])().mark((function t(a){var r;return Object(d["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(r=Object(o["a"])({},e.addForm),r.timeDate=e.addForm.timeDate[0]+"-"+e.addForm.timeDate[0],!e.$route.query.id){t.next=10;break}return t.next=7,Object(u["e"])(r);case 7:e.$message.success("编辑分店成功."),t.next=13;break;case 10:return t.next=12,Object(u["a"])(r);case 12:e.$message.success("添加分店成功.");case 13:e.$router.back();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetForm:function(){this.$refs.addForm.resetFields()}}},c=i,l=(a("7524"),a("2877")),m=Object(l["a"])(c,r,s,!1,null,"655acdaf",null);t["default"]=m.exports},e692:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return u}));var r=a("b775"),s=function(e){return Object(r["a"])({url:"/shop",params:e})},o=function(e){return Object(r["a"])("/shop?id=".concat(e))},d=function(e){return Object(r["a"])({url:"/shop",method:"post",data:e})},n=function(e){return Object(r["a"])({url:"/shop",method:"put",data:e})},u=function(e){return Object(r["a"])({url:"/shop",method:"delete",data:{id:e}})}},ffd3:function(e,t,a){}}]);